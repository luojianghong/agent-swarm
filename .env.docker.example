# Docker Worker / Lead Agent Environment Variables
# Copy this file to .env.docker and fill in your values
# Full reference: docs/ENVS.md

# ---- Required ----
# Run `claude setup-token` to get your OAuth token
CLAUDE_CODE_OAUTH_TOKEN=your-oauth-token-here
API_KEY=your-api-key-here

# ---- Agent Identity ----
# Keep AGENT_ID stable across restarts for task resume and identity persistence
AGENT_ID=
AGENT_NAME=
AGENT_ROLE=worker                       # "worker" or "lead"

# ---- Networking ----
MCP_BASE_URL=http://host.docker.internal:3013
SWARM_URL=swarm.example.com             # Base domain for service discovery
SERVICE_PORT=3000                        # Host port for exposed services

# ---- Behavior ----
YOLO=false                               # Keep spawning sessions even if one fails
# MAX_CONCURRENT_TASKS=1                 # Parallel tasks (default: 1 for worker, 2 for lead)
# SHUTDOWN_TIMEOUT=30000                 # Grace period (ms) before pausing tasks on shutdown

# ---- Logging ----
# SESSION_ID=                            # Reuse to continue logging to the same folder
# LOG_DIR=/logs                          # Base directory for session logs

# ---- System Prompt (optional) ----
SYSTEM_PROMPT=
SYSTEM_PROMPT_FILE=

# ---- Startup ----
STARTUP_SCRIPT_STRICT=true               # Exit if startup script fails

# ---- GitHub (for git operations) ----
GITHUB_TOKEN=                            # Personal access token for gh CLI and git push
GITHUB_EMAIL=worker-agent@desplega.ai    # Git commit email
GITHUB_NAME=Worker Agent                 # Git commit name

# ---- Sentry (optional) ----
# Create an Organization Auth Token at https://sentry.io/settings/{org}/auth-tokens/
# Required scopes: event:read, project:read, org:read
SENTRY_AUTH_TOKEN=
SENTRY_ORG=
